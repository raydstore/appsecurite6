{"remainingRequest":"D:\\Development\\AngularProject\\appsecurite6\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\Development\\AngularProject\\appsecurite6\\node_modules\\primeng\\components\\scrollpanel\\scrollpanel.js","dependencies":[{"path":"D:\\Development\\AngularProject\\appsecurite6\\node_modules\\primeng\\components\\scrollpanel\\scrollpanel.js","mtime":1563198751860},{"path":"D:\\Development\\AngularProject\\appsecurite6\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1563198691178},{"path":"D:\\Development\\AngularProject\\appsecurite6\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1563198608965}],"contextDependencies":[],"result":["\"use strict\";\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar domhandler_1 = require(\"../dom/domhandler\");\nvar ScrollPanel = /** @class */ /*@__PURE__*/ (function () {\n    function ScrollPanel(el, zone, domHandler) {\n        this.el = el;\n        this.zone = zone;\n        this.domHandler = domHandler;\n        this.timeoutFrame = function (fn) { return setTimeout(fn, 0); };\n    }\n    ScrollPanel.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.zone.runOutsideAngular(function () {\n            _this.moveBar();\n            _this.moveBar = _this.moveBar.bind(_this);\n            _this.onXBarMouseDown = _this.onXBarMouseDown.bind(_this);\n            _this.onYBarMouseDown = _this.onYBarMouseDown.bind(_this);\n            _this.onDocumentMouseMove = _this.onDocumentMouseMove.bind(_this);\n            _this.onDocumentMouseUp = _this.onDocumentMouseUp.bind(_this);\n            window.addEventListener('resize', _this.moveBar);\n            _this.contentViewChild.nativeElement.addEventListener('scroll', _this.moveBar);\n            _this.contentViewChild.nativeElement.addEventListener('mouseenter', _this.moveBar);\n            _this.xBarViewChild.nativeElement.addEventListener('mousedown', _this.onXBarMouseDown);\n            _this.yBarViewChild.nativeElement.addEventListener('mousedown', _this.onYBarMouseDown);\n            _this.calculateContainerHeight();\n            _this.initialized = true;\n        });\n    };\n    ScrollPanel.prototype.calculateContainerHeight = function () {\n        var container = this.containerViewChild.nativeElement;\n        var content = this.contentViewChild.nativeElement;\n        var xBar = this.xBarViewChild.nativeElement;\n        var containerStyles = getComputedStyle(container), xBarStyles = getComputedStyle(xBar), pureContainerHeight = this.domHandler.getHeight(container) - parseInt(xBarStyles['height'], 10);\n        if (containerStyles['max-height'] != \"none\" && pureContainerHeight == 0) {\n            if (content.offsetHeight + parseInt(xBarStyles['height'], 10) > parseInt(containerStyles['max-height'], 10)) {\n                container.style.height = containerStyles['max-height'];\n            }\n            else {\n                container.style.height = content.offsetHeight + parseFloat(containerStyles.paddingTop) + parseFloat(containerStyles.paddingBottom) + parseFloat(containerStyles.borderTopWidth) + parseFloat(containerStyles.borderBottomWidth) + \"px\";\n            }\n        }\n    };\n    ScrollPanel.prototype.moveBar = function () {\n        var _this = this;\n        var container = this.containerViewChild.nativeElement;\n        var content = this.contentViewChild.nativeElement;\n        /* horizontal scroll */\n        var xBar = this.xBarViewChild.nativeElement;\n        var totalWidth = content.scrollWidth;\n        var ownWidth = content.clientWidth;\n        var bottom = (container.clientHeight - xBar.clientHeight) * -1;\n        this.scrollXRatio = ownWidth / totalWidth;\n        /* vertical scroll */\n        var yBar = this.yBarViewChild.nativeElement;\n        var totalHeight = content.scrollHeight;\n        var ownHeight = content.clientHeight;\n        var right = (container.clientWidth - yBar.clientWidth) * -1;\n        this.scrollYRatio = ownHeight / totalHeight;\n        this.requestAnimationFrame(function () {\n            if (_this.scrollXRatio >= 1) {\n                _this.domHandler.addClass(xBar, 'ui-scrollpanel-hidden');\n            }\n            else {\n                _this.domHandler.removeClass(xBar, 'ui-scrollpanel-hidden');\n                xBar.style.cssText = 'width:' + Math.max(_this.scrollXRatio * 100, 10) + '%; left:' + (content.scrollLeft / totalWidth) * 100 + '%;bottom:' + bottom + 'px;';\n            }\n            if (_this.scrollYRatio >= 1) {\n                _this.domHandler.addClass(yBar, 'ui-scrollpanel-hidden');\n            }\n            else {\n                _this.domHandler.removeClass(yBar, 'ui-scrollpanel-hidden');\n                yBar.style.cssText = 'height:' + Math.max(_this.scrollYRatio * 100, 10) + '%; top: calc(' + (content.scrollTop / totalHeight) * 100 + '% - ' + xBar.clientHeight + 'px);right:' + right + 'px;';\n            }\n        });\n    };\n    ScrollPanel.prototype.onYBarMouseDown = function (e) {\n        this.isYBarClicked = true;\n        this.lastPageY = e.pageY;\n        this.domHandler.addClass(this.yBarViewChild.nativeElement, 'ui-scrollpanel-grabbed');\n        this.domHandler.addClass(document.body, 'ui-scrollpanel-grabbed');\n        document.addEventListener('mousemove', this.onDocumentMouseMove);\n        document.addEventListener('mouseup', this.onDocumentMouseUp);\n        e.preventDefault();\n    };\n    ScrollPanel.prototype.onXBarMouseDown = function (e) {\n        this.isXBarClicked = true;\n        this.lastPageX = e.pageX;\n        this.domHandler.addClass(this.xBarViewChild.nativeElement, 'ui-scrollpanel-grabbed');\n        this.domHandler.addClass(document.body, 'ui-scrollpanel-grabbed');\n        document.addEventListener('mousemove', this.onDocumentMouseMove);\n        document.addEventListener('mouseup', this.onDocumentMouseUp);\n        e.preventDefault();\n    };\n    ScrollPanel.prototype.onDocumentMouseMove = function (e) {\n        if (this.isXBarClicked) {\n            this.onMouseMoveForXBar(e);\n        }\n        else if (this.isYBarClicked) {\n            this.onMouseMoveForYBar(e);\n        }\n        else {\n            this.onMouseMoveForXBar(e);\n            this.onMouseMoveForYBar(e);\n        }\n    };\n    ScrollPanel.prototype.onMouseMoveForXBar = function (e) {\n        var _this = this;\n        var deltaX = e.pageX - this.lastPageX;\n        this.lastPageX = e.pageX;\n        this.requestAnimationFrame(function () {\n            _this.contentViewChild.nativeElement.scrollLeft += deltaX / _this.scrollXRatio;\n        });\n    };\n    ScrollPanel.prototype.onMouseMoveForYBar = function (e) {\n        var _this = this;\n        var deltaY = e.pageY - this.lastPageY;\n        this.lastPageY = e.pageY;\n        this.requestAnimationFrame(function () {\n            _this.contentViewChild.nativeElement.scrollTop += deltaY / _this.scrollYRatio;\n        });\n    };\n    ScrollPanel.prototype.onDocumentMouseUp = function (e) {\n        this.domHandler.removeClass(this.yBarViewChild.nativeElement, 'ui-scrollpanel-grabbed');\n        this.domHandler.removeClass(this.xBarViewChild.nativeElement, 'ui-scrollpanel-grabbed');\n        this.domHandler.removeClass(document.body, 'ui-scrollpanel-grabbed');\n        document.removeEventListener('mousemove', this.onDocumentMouseMove);\n        document.removeEventListener('mouseup', this.onDocumentMouseUp);\n        this.isXBarClicked = false;\n        this.isYBarClicked = false;\n    };\n    ScrollPanel.prototype.requestAnimationFrame = function (f) {\n        var frame = window.requestAnimationFrame || this.timeoutFrame;\n        frame(f);\n    };\n    ScrollPanel.prototype.ngOnDestroy = function () {\n        if (this.initialized) {\n            window.removeEventListener('resize', this.moveBar);\n            this.contentViewChild.nativeElement.removeEventListener('scroll', this.moveBar);\n            this.contentViewChild.nativeElement.removeEventListener('mouseenter', this.moveBar);\n            this.xBarViewChild.nativeElement.removeEventListener('mousedown', this.onXBarMouseDown);\n            this.yBarViewChild.nativeElement.removeEventListener('mousedown', this.onYBarMouseDown);\n        }\n    };\n    ScrollPanel.prototype.refresh = function () {\n        this.moveBar();\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], ScrollPanel.prototype, \"style\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], ScrollPanel.prototype, \"styleClass\", void 0);\n    __decorate([\n        core_1.ViewChild('container'),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], ScrollPanel.prototype, \"containerViewChild\", void 0);\n    __decorate([\n        core_1.ViewChild('content'),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], ScrollPanel.prototype, \"contentViewChild\", void 0);\n    __decorate([\n        core_1.ViewChild('xBar'),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], ScrollPanel.prototype, \"xBarViewChild\", void 0);\n    __decorate([\n        core_1.ViewChild('yBar'),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], ScrollPanel.prototype, \"yBarViewChild\", void 0);\n    ScrollPanel = __decorate([\n        core_1.Component({\n            selector: 'p-scrollPanel',\n            template: \"\\n        <div #container [ngClass]=\\\"'ui-scrollpanel ui-widget ui-widget-content ui-corner-all'\\\" [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\">\\n            <div class=\\\"ui-scrollpanel-wrapper\\\">\\n                <div #content class=\\\"ui-scrollpanel-content\\\">\\n                    <ng-content></ng-content>\\n                </div>\\n            </div>\\n            <div #xBar class=\\\"ui-scrollpanel-bar ui-scrollpanel-bar-x\\\"></div>\\n            <div #yBar class=\\\"ui-scrollpanel-bar ui-scrollpanel-bar-y\\\"></div>   \\n        </div>\\n    \",\n            providers: [domhandler_1.DomHandler]\n        })\n    ], ScrollPanel);\n    return ScrollPanel;\n}());\nexports.ScrollPanel = ScrollPanel;\nvar ScrollPanelModule = /** @class */ /*@__PURE__*/ (function () {\n    function ScrollPanelModule() {\n    }\n    ScrollPanelModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            exports: [ScrollPanel],\n            declarations: [ScrollPanel]\n        })\n    ], ScrollPanelModule);\n    return ScrollPanelModule;\n}());\nexports.ScrollPanelModule = ScrollPanelModule;\n",null]}